{% extends "base.html" %}
{% block title %}Room Scheduler Page{% endblock %}
{% block head %}
    {{ super() }}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.9.0/fullcalendar.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.9.0/fullcalendar.print.css">
{% endblock head %}
{% include "kpi/nav.html" %}
{% block page_content %}
<section class="section">
    <h1 class="title">Room Scheduler</h1>
    <h2 class="subtitle">ระบบการจองห้องสำหรับการประชุมหรือการเรียนการสอน รุ่น 0.1</h2>
    <div class="box">
        <div class="has-text-centered">
            {% with messages = get_flashed_messages() %}
                {% if messages %}
                    <ul>
                    {% for msg in messages %}
                        <li>{{ msg }}</li>
                    {% endfor %}
                    </ul>
                {% endif %}
            {% endwith %}
            <button id="prev_btn" class="button is-rounded is-primary">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button id="next_btn" class="button is-rounded is-primary">
                <i class="fas fa-chevron-right"></i>
            </button>
            <a id="add_evt_btn" class="button is-rounded is-info" href="{{ url_for('room.new_event') }}">
                <i class="far fa-calendar-plus"></i></a>
            <button id="" class="button is-rounded is-primary"><i class="fas fa-list-ol"></i></button>
        </div>
        <div id="room_calendar"></div>
    </div>
</section>
{% endblock page_content %}
{% block scripts %}
    {{ super() }}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.9.0/fullcalendar.min.js"></script>
    <script>
        $(function() {
            $('#room_calendar').fullCalendar({
                header: {
                    left: 'title',
                },
                events: '/room/api/events',
                eventLimit: true
            });
            $('#prev_btn').on('click', function() {
                $('#room_calendar').fullCalendar('prev');
            });
            $('#next_btn').on('click', function() {
                $('#room_calendar').fullCalendar('next');
            });
        });
    </script>
{% endblock %}
